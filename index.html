<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TrustHire ‚Äî Enterprise Job Security Platform</title>
<meta name="description" content="AI-powered job fraud detection with real-time threat intelligence, behavioral fingerprinting, and enterprise-grade security.">
<meta property="og:title" content="TrustHire ‚Äî Enterprise Job Security">
<meta property="og:description" content="Detect job scams with AI + ML. Real-time fraud detection, behavioral analysis, threat intelligence.">
<meta property="og:type" content="website">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@300;400;500;700&family=Cabinet+Grotesk:wght@400;500;700;800;900&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #080808; --surface: #0f0f0f; --surface2: #141414; --surface3: #1a1a1a;
  --border: #1c1c1c; --border2: #242424; --border3: #2e2e2e;
  --accent: #c8ff00; --accent2: #a8d900; --accent-dim: rgba(200,255,0,.07); --accent-glow: 0 0 40px rgba(200,255,0,.12);
  --danger: #ff3b30; --warn: #ff9500; --safe: #30d158; --info: #0a84ff;
  --purple: #bf5af2; --cyan: #5ac8fa;
  --text: #efefef; --text2: #aaa; --text3: #555;
  --mono: 'DM Mono', monospace; --sans: 'Cabinet Grotesk', sans-serif;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth;font-size:16px}
body{background:var(--bg);color:var(--text);font-family:var(--sans);line-height:1.6;overflow-x:hidden;-webkit-font-smoothing:antialiased}

/* GRAIN + GRADIENT MESH */
body::before{content:'';position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.03;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")}
body::after{content:'';position:fixed;inset:0;z-index:0;pointer-events:none;background:radial-gradient(ellipse 80% 50% at 50% 0%, rgba(200,255,0,.04) 0%, transparent 60%),radial-gradient(circle at 20% 80%, rgba(191,90,242,.03) 0%, transparent 50%)}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:400;display:flex;align-items:center;justify-content:space-between;padding:.9rem 2.5rem;background:rgba(8,8,8,.92);backdrop-filter:blur(24px) saturate(180%);border-bottom:1px solid var(--border)}
.nav-brand{display:flex;align-items:center;gap:.75rem;text-decoration:none;cursor:pointer}
.nav-logo-mark{width:28px;height:28px;position:relative;flex-shrink:0}
.nav-logo-mark svg{width:100%;height:100%}
.nav-wordmark{font-family:var(--sans);font-weight:900;font-size:1.05rem;letter-spacing:-.03em;color:var(--text)}
.nav-wordmark span{color:var(--accent)}
.nav-links{display:flex;gap:0;list-style:none;align-items:center}
.nav-links a{color:var(--text3);text-decoration:none;font-size:.78rem;font-family:var(--mono);transition:color .18s;padding:.4rem .9rem;cursor:pointer}
.nav-links a:hover{color:var(--text2)}
.nav-right{display:flex;align-items:center;gap:.5rem}

/* LANG PICKER */
.lang-picker{display:flex;align-items:center;gap:0;background:var(--surface);border:1px solid var(--border);padding:0;overflow:hidden}
.lang-opt{background:none;border:none;color:var(--text3);font-family:var(--mono);font-size:.68rem;padding:.3rem .55rem;cursor:pointer;transition:all .15s;white-space:nowrap}
.lang-opt:hover{color:var(--text2)}
.lang-opt.active{background:var(--accent);color:#000;font-weight:700}

/* USAGE PILL + STREAK */
.usage-pill{font-family:var(--mono);font-size:.68rem;background:var(--surface);border:1px solid var(--border);padding:.3rem .75rem;display:flex;align-items:center;gap:.4rem}
.uses-left{color:var(--accent);font-weight:700}
.usage-pill.warn .uses-left{color:var(--warn)}
.usage-pill.empty .uses-left{color:var(--danger)}
.streak-badge{display:flex;align-items:center;gap:.35rem;padding:.25rem .6rem;background:var(--surface2);border:1px solid var(--border);font-family:var(--mono);font-size:.65rem;color:var(--text3)}
.streak-num{color:var(--accent);font-weight:700}

.nav-signin{background:transparent;color:var(--text2);border:1px solid var(--border2);padding:.35rem 1rem;font-family:var(--mono);font-size:.72rem;cursor:pointer;transition:all .18s}
.nav-signin:hover{border-color:var(--border3);color:var(--text)}
.nav-cta{background:var(--accent);color:#000;border:none;padding:.38rem 1.1rem;font-family:var(--mono);font-size:.73rem;font-weight:700;cursor:pointer;transition:opacity .18s;letter-spacing:.02em}
.nav-cta:hover{opacity:.85}
.nav-user{display:none;align-items:center;gap:.6rem;font-family:var(--mono);font-size:.72rem}
.nav-user.active{display:flex}
.nav-user-avatar{width:26px;height:26px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:900;color:#000}
.nav-user-name{color:var(--text)}
.plan-chip{padding:.12rem .5rem;font-size:.58rem;font-weight:800;letter-spacing:.07em}
.plan-chip.free{background:var(--surface2);color:var(--text3);border:1px solid var(--border)}
.plan-chip.pro{background:var(--accent);color:#000}
.plan-chip.enterprise{background:linear-gradient(135deg,#bf5af2,#7c3aed);color:#fff;border:none}
.btn-signout{background:none;border:none;color:var(--text3);font-family:var(--mono);font-size:.7rem;cursor:pointer;padding:.2rem}
.btn-signout:hover{color:var(--danger)}

/* DASHBOARD LAYOUT */
.dashboard-wrapper{display:none;min-height:100vh;padding-top:4rem}
.dashboard-wrapper.active{display:block}
.dashboard-container{max-width:1400px;margin:0 auto;padding:2rem 2.5rem}
.dashboard-header{margin-bottom:2.5rem}
.dashboard-title{font-size:2rem;font-weight:900;letter-spacing:-.03em;margin-bottom:.5rem}
.dashboard-subtitle{font-family:var(--mono);font-size:.8rem;color:var(--text3)}

/* DASHBOARD GRID */
.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem;margin-bottom:2rem}
.stat-card{background:var(--surface);border:1px solid var(--border);padding:1.5rem;position:relative;overflow:hidden;transition:all .2s}
.stat-card:hover{border-color:var(--border3);transform:translateY(-2px)}
.stat-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--accent);opacity:0;transition:opacity .2s}
.stat-card:hover::before{opacity:1}
.stat-label{font-family:var(--mono);font-size:.65rem;color:var(--text3);letter-spacing:.1em;text-transform:uppercase;margin-bottom:.6rem}
.stat-value{font-size:2.2rem;font-weight:900;color:var(--text);letter-spacing:-.04em;font-family:var(--sans);margin-bottom:.3rem}
.stat-change{font-family:var(--mono);font-size:.68rem;display:flex;align-items:center;gap:.3rem}
.stat-change.up{color:var(--safe)}
.stat-change.down{color:var(--danger)}

/* ACTIVITY FEED */
.activity-section{background:var(--surface);border:1px solid var(--border);padding:1.75rem;margin-bottom:2rem}
.section-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}
.section-title{font-size:1.1rem;font-weight:800;letter-spacing:-.02em}
.section-action{font-family:var(--mono);font-size:.7rem;color:var(--accent);cursor:pointer;text-decoration:none}
.section-action:hover{text-decoration:underline}
.activity-list{display:flex;flex-direction:column;gap:.7rem}
.activity-item{display:flex;align-items:center;gap:1rem;padding:.8rem 1rem;background:var(--bg);border:1px solid var(--border);transition:all .18s;cursor:pointer}
.activity-item:hover{border-color:var(--border3);transform:translateX(3px)}
.activity-icon{width:36px;height:36px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;flex-shrink:0}
.activity-icon.safe{background:rgba(48,209,88,.1);border:1px solid rgba(48,209,88,.2)}
.activity-icon.warn{background:rgba(255,149,0,.1);border:1px solid rgba(255,149,0,.2)}
.activity-icon.danger{background:rgba(255,59,48,.1);border:1px solid rgba(255,59,48,.2)}
.activity-details{flex:1}
.activity-title{font-size:.82rem;color:var(--text);margin-bottom:.15rem}
.activity-meta{font-family:var(--mono);font-size:.64rem;color:var(--text3)}
.activity-score{font-weight:900;font-size:1.1rem;color:var(--text);font-family:var(--sans);min-width:2.5rem;text-align:right}

/* CHARTS */
.chart-grid{display:grid;grid-template-columns:2fr 1fr;gap:1.25rem;margin-bottom:2rem}
@media(max-width:900px){.chart-grid{grid-template-columns:1fr}}
.chart-card{background:var(--surface);border:1px solid var(--border);padding:1.75rem}
.chart-title{font-size:.95rem;font-weight:800;margin-bottom:1.25rem;letter-spacing:-.02em}
.chart-canvas{width:100%;height:240px;position:relative}
.mini-chart{height:180px}

/* THREAT MAP */
.threat-map{background:var(--surface);border:1px solid var(--border);padding:1.75rem;margin-bottom:2rem}
.threat-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.8rem;margin-top:1.25rem}
.threat-item{background:var(--bg);border-left:3px solid;padding:.8rem 1rem;transition:all .18s}
.threat-item:hover{transform:translateX(3px)}
.threat-item.critical{border-color:var(--danger)}
.threat-item.high{border-color:var(--warn)}
.threat-item.medium{border-color:#ffd60a}
.threat-item.low{border-color:var(--safe)}
.threat-type{font-family:var(--mono);font-size:.68rem;color:var(--text3);text-transform:uppercase;letter-spacing:.08em;margin-bottom:.3rem}
.threat-count{font-size:1.6rem;font-weight:900;color:var(--text);font-family:var(--sans);letter-spacing:-.03em}

/* QUICK ACTIONS */
.quick-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem;margin-bottom:2rem}
.quick-action-card{background:linear-gradient(135deg,var(--surface),var(--surface2));border:1px solid var(--border2);padding:1.5rem;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}
.quick-action-card:hover{border-color:var(--accent);transform:translateY(-2px)}
.quick-action-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--accent),transparent);opacity:0;transition:opacity .2s}
.quick-action-card:hover::before{opacity:1}
.qa-icon{font-size:2rem;margin-bottom:.8rem;display:block}
.qa-title{font-weight:800;font-size:.92rem;margin-bottom:.3rem;letter-spacing:-.02em}
.qa-desc{font-family:var(--mono);font-size:.68rem;color:var(--text3);line-height:1.5}

/* TEAM ACTIVITY (ENTERPRISE) */
.team-section{background:linear-gradient(135deg,rgba(191,90,242,.05),rgba(124,58,237,.05));border:1px solid rgba(191,90,242,.2);padding:1.75rem;margin-bottom:2rem}
.team-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-top:1.25rem}
.team-member{background:var(--bg);border:1px solid rgba(191,90,242,.15);padding:1rem;display:flex;align-items:center;gap:.8rem}
.team-avatar{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,#bf5af2,#7c3aed);display:flex;align-items:center;justify-content:center;font-size:.9rem;font-weight:900;color:#fff;flex-shrink:0}
.team-info{flex:1}
.team-name{font-size:.8rem;font-weight:700;margin-bottom:.1rem}
.team-stat{font-family:var(--mono);font-size:.62rem;color:var(--text3)}

/* SETTINGS PANEL */
.settings-section{background:var(--surface);border:1px solid var(--border);padding:2rem}
.settings-group{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--border)}
.settings-group:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}
.settings-label{font-size:.9rem;font-weight:700;margin-bottom:.4rem}
.settings-desc{font-family:var(--mono);font-size:.68rem;color:var(--text3);margin-bottom:1rem;line-height:1.6}
.settings-toggle{display:flex;align-items:center;gap:.6rem;cursor:pointer;user-select:none}
.toggle-switch{width:44px;height:24px;background:var(--border2);border-radius:24px;position:relative;transition:background .2s}
.toggle-switch::after{content:'';position:absolute;width:18px;height:18px;background:#fff;border-radius:50%;top:3px;left:3px;transition:left .2s}
.settings-toggle input{display:none}
.settings-toggle input:checked + .toggle-switch{background:var(--accent)}
.settings-toggle input:checked + .toggle-switch::after{left:23px;background:#000}
.settings-input{width:100%;background:var(--bg);border:1px solid var(--border);color:var(--text);font-family:var(--mono);font-size:.76rem;padding:.7rem .9rem;outline:none;transition:border-color .18s}
.settings-input:focus{border-color:rgba(200,255,0,.35)}
.settings-btn{background:var(--accent);color:#000;border:none;padding:.7rem 1.5rem;font-family:var(--mono);font-size:.76rem;font-weight:700;cursor:pointer;transition:opacity .18s}
.settings-btn:hover{opacity:.88}
.danger-zone{background:rgba(255,59,48,.05);border:1px solid rgba(255,59,48,.15);padding:1.5rem}
.danger-btn{background:transparent;color:var(--danger);border:1px solid var(--danger);padding:.7rem 1.5rem;font-family:var(--mono);font-size:.76rem;font-weight:700;cursor:pointer;transition:all .18s}
.danger-btn:hover{background:var(--danger);color:#fff}

/* API KEYS SECTION */
.api-keys{background:var(--surface);border:1px solid var(--border);padding:2rem;margin-bottom:2rem}
.api-key-list{display:flex;flex-direction:column;gap:.8rem;margin-top:1.25rem}
.api-key-item{background:var(--bg);border:1px solid var(--border);padding:1rem 1.25rem;display:flex;align-items:center;justify-content:space-between;gap:1rem}
.api-key-info{flex:1}
.api-key-name{font-size:.8rem;font-weight:700;margin-bottom:.2rem}
.api-key-value{font-family:var(--mono);font-size:.68rem;color:var(--text3)}
.api-key-actions{display:flex;gap:.5rem}
.api-btn{background:transparent;border:1px solid var(--border2);color:var(--text3);font-family:var(--mono);font-size:.66rem;padding:.35rem .7rem;cursor:pointer;transition:all .18s}
.api-btn:hover{border-color:var(--border3);color:var(--text)}
.api-btn.danger:hover{border-color:var(--danger);color:var(--danger)}

/* BILLING */
.billing-section{background:var(--surface);border:1px solid var(--border);padding:2rem;margin-bottom:2rem}
.billing-current{background:var(--bg);border:1px solid var(--border2);padding:1.5rem;margin:1.25rem 0}
.billing-plan-name{font-size:1.1rem;font-weight:800;margin-bottom:.3rem}
.billing-plan-price{font-family:var(--sans);font-size:1.8rem;font-weight:900;color:var(--accent);margin-bottom:.5rem}
.billing-plan-meta{font-family:var(--mono);font-size:.68rem;color:var(--text3)}
.billing-usage{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin-top:1.25rem}
.usage-metric{background:var(--surface);border:1px solid var(--border);padding:1rem}
.usage-label{font-family:var(--mono);font-size:.62rem;color:var(--text3);text-transform:uppercase;letter-spacing:.08em;margin-bottom:.4rem}
.usage-value{font-size:1.4rem;font-weight:900;color:var(--text);font-family:var(--sans)}
.usage-bar{height:4px;background:var(--border);margin-top:.6rem;overflow:hidden}
.usage-bar-fill{height:100%;background:var(--accent);transition:width .8s}

/* HERO */
#hero{min-height:100vh;display:grid;place-items:center;padding:8rem 2.5rem 5rem;position:relative;overflow:hidden}
.hero-inner{max-width:1000px;width:100%;margin:0 auto}
.hero-grid{display:grid;grid-template-columns:1fr auto;gap:4rem;align-items:center}
@media(max-width:860px){.hero-grid{grid-template-columns:1fr}.hero-card{display:none}}

.hero-bg{position:absolute;inset:0;background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px);background-size:60px 60px;mask-image:radial-gradient(ellipse 80% 60% at 50% 0%,black 30%,transparent 100%);opacity:.4}
.hero-glow{position:absolute;top:-20%;left:30%;width:600px;height:600px;background:radial-gradient(ellipse,rgba(200,255,0,.06) 0%,transparent 70%);pointer-events:none}

.hero-eyebrow{display:inline-flex;align-items:center;gap:.6rem;font-family:var(--mono);font-size:.68rem;color:var(--accent);border:1px solid rgba(200,255,0,.2);padding:.3rem .9rem;margin-bottom:2rem;letter-spacing:.1em;opacity:0;animation:fadeUp .5s .1s forwards}
.hero-eyebrow-dot{width:5px;height:5px;border-radius:50%;background:var(--accent);animation:blink 2s infinite}
h1{font-size:clamp(3rem,6.5vw,5.5rem);font-weight:900;line-height:1.02;letter-spacing:-.04em;margin-bottom:1.5rem;opacity:0;animation:fadeUp .6s .25s forwards}
h1 .accent{color:var(--accent);position:relative;display:inline-block}
h1 .accent::after{content:'';position:absolute;bottom:2px;left:0;right:0;height:3px;background:var(--accent);opacity:.35}
.hero-desc{font-size:1rem;color:var(--text2);max-width:540px;font-family:var(--mono);font-weight:300;line-height:1.85;margin-bottom:2.75rem;opacity:0;animation:fadeUp .6s .4s forwards}
.hero-actions{display:flex;gap:.75rem;flex-wrap:wrap;opacity:0;animation:fadeUp .6s .55s forwards;margin-bottom:3rem}
.btn-hero-primary{background:var(--accent);color:#000;border:none;padding:.85rem 2rem;font-family:var(--mono);font-weight:700;font-size:.85rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.5rem}
.btn-hero-primary:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(200,255,0,.25)}
.btn-hero-ghost{background:transparent;color:var(--text2);border:1px solid var(--border2);padding:.85rem 2rem;font-family:var(--mono);font-size:.85rem;cursor:pointer;transition:all .2s;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem}
.btn-hero-ghost:hover{border-color:var(--border3);color:var(--text)}

/* HERO STATS */
.hero-social-proof{display:flex;align-items:center;gap:1.5rem;font-family:var(--mono);font-size:.68rem;color:var(--text3);opacity:0;animation:fadeUp .6s .7s forwards;flex-wrap:wrap}
.hero-stat{display:flex;flex-direction:column;gap:.1rem}
.hero-stat-num{font-size:1rem;font-weight:700;color:var(--text);font-family:var(--sans);letter-spacing:-.02em}
.hero-stat-label{font-size:.62rem;color:var(--text3)}
.hero-stat-div{width:1px;height:28px;background:var(--border)}

/* LIVE METRICS */
.api-indicator{display:flex;align-items:center;gap:.5rem;font-family:var(--mono);font-size:.66rem;color:var(--text3)}
.api-dot{width:6px;height:6px;border-radius:50%;background:var(--safe);animation:blink 2s infinite;flex-shrink:0}
.api-dot.connecting{background:var(--warn)}
.api-dot.offline{background:var(--danger);animation:none}

/* HERO FLOATING CARD */
.hero-card{background:var(--surface);border:1px solid var(--border);padding:1.5rem;width:280px;position:relative;box-shadow:0 24px 64px rgba(0,0,0,.6)}
.hero-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--accent),transparent)}
.hc-label{font-family:var(--mono);font-size:.6rem;color:var(--accent);letter-spacing:.12em;text-transform:uppercase;margin-bottom:.9rem}
.hc-score{font-size:3.5rem;font-weight:900;color:var(--danger);line-height:1;margin-bottom:.3rem;letter-spacing:-.04em;font-family:var(--sans)}
.hc-level{font-family:var(--mono);font-size:.68rem;color:var(--danger);margin-bottom:.9rem;display:flex;align-items:center;gap:.4rem}
.hc-level::before{content:'';width:5px;height:5px;border-radius:50%;background:var(--danger);animation:blink 1.2s infinite}
.hc-bar{height:2px;background:var(--border);margin-bottom:1.1rem;overflow:hidden}
.hc-bar-fill{height:100%;background:var(--danger);width:83%;transition:width 1.5s ease}
.hc-signals{display:flex;flex-direction:column;gap:.35rem}
.hc-signal{display:flex;align-items:center;gap:.5rem;font-family:var(--mono);font-size:.66rem;padding:.35rem .55rem;background:var(--bg);border-left:2px solid}
.hc-signal.crit{border-color:var(--danger);color:#ff8080}
.hc-signal.high{border-color:var(--warn);color:#ffc07a}
.hc-signal.med{border-color:#ffd60a;color:#ffe066}
.hc-dot{width:4px;height:4px;border-radius:50%;flex-shrink:0;background:currentColor}

/* TRUST BAR / TICKER */
.trust-bar{border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:.75rem 0;overflow:hidden;background:var(--surface);position:relative}
.trust-bar::before,.trust-bar::after{content:'';position:absolute;top:0;bottom:0;width:80px;z-index:2}
.trust-bar::before{left:0;background:linear-gradient(90deg,var(--surface),transparent)}
.trust-bar::after{right:0;background:linear-gradient(-90deg,var(--surface),transparent)}
.ticker-track{display:flex;gap:3rem;animation:ticker 30s linear infinite;width:max-content}
.ticker-item{display:flex;align-items:center;gap:.55rem;font-family:var(--mono);font-size:.68rem;color:var(--text3);white-space:nowrap}
.ticker-item span{color:var(--accent);font-weight:700}
@keyframes ticker{from{transform:translateX(0)}to{transform:translateX(-50%)}}

/* SECTIONS */
.section{padding:6rem 2.5rem;max-width:1000px;margin:0 auto;border-top:1px solid var(--border);position:relative}
.section-eyebrow{font-family:var(--mono);font-size:.63rem;color:var(--accent);letter-spacing:.16em;text-transform:uppercase;margin-bottom:.7rem}
.section-heading{font-size:clamp(1.6rem,3vw,2.4rem);font-weight:800;letter-spacing:-.035em;margin-bottom:.5rem;line-height:1.1}
.section-sub{font-family:var(--mono);font-size:.8rem;color:var(--text2);line-height:1.75;margin-bottom:2.5rem;max-width:500px}

/* MODALS */
.modal-overlay{position:fixed;inset:0;z-index:600;background:rgba(0,0,0,.92);backdrop-filter:blur(16px);display:flex;align-items:center;justify-content:center;padding:1rem;opacity:0;pointer-events:none;transition:opacity .22s}
.modal-overlay.open{opacity:1;pointer-events:all}
.modal{background:var(--surface);border:1px solid var(--border);max-width:440px;width:100%;padding:2.25rem;position:relative;transform:translateY(14px);transition:transform .22s}
.modal-overlay.open .modal{transform:translateY(0)}
.modal::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--accent),transparent)}
.modal-x{position:absolute;top:.85rem;right:.85rem;background:none;border:none;color:var(--text3);font-size:1.1rem;cursor:pointer;padding:.2rem .45rem;line-height:1}
.modal-x:hover{color:var(--text)}
.modal-icon{font-size:2rem;margin-bottom:.9rem;display:block}
.modal-title{font-size:1.4rem;font-weight:900;letter-spacing:-.03em;margin-bottom:.45rem}
.modal-sub{font-family:var(--mono);font-size:.76rem;color:var(--text3);margin-bottom:1.5rem;line-height:1.75}

/* AUTH MODAL */
.auth-tabs{display:flex;border-bottom:1px solid var(--border);margin-bottom:1.5rem}
.auth-tab{flex:1;background:none;border:none;border-bottom:2px solid transparent;color:var(--text3);font-family:var(--mono);font-size:.76rem;padding:.55rem;cursor:pointer;transition:all .2s;margin-bottom:-1px}
.auth-tab.active{color:var(--accent);border-bottom-color:var(--accent)}
.auth-form{display:flex;flex-direction:column;gap:.8rem}
.auth-input{width:100%;background:var(--bg);border:1px solid var(--border);color:var(--text);font-family:var(--mono);font-size:.78rem;padding:.65rem .85rem;outline:none;transition:border-color .18s}
.auth-input:focus{border-color:rgba(200,255,0,.35)}
.auth-input::placeholder{color:var(--text3)}
.auth-submit{width:100%;background:var(--accent);color:#000;border:none;padding:.82rem;font-family:var(--mono);font-weight:700;font-size:.82rem;cursor:pointer;transition:opacity .18s}
.auth-submit:hover{opacity:.88}
.auth-err{font-family:var(--mono);font-size:.68rem;color:var(--danger);text-align:center;min-height:1rem}

/* FOOTER */
footer{border-top:1px solid var(--border);padding:2rem 2.5rem;max-width:1000px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;font-family:var(--mono);font-size:.67rem;color:var(--text3);flex-wrap:wrap;gap:1rem}
footer a{color:var(--text3);text-decoration:none;transition:color .18s}
footer a:hover{color:var(--text)}
.footer-links{display:flex;gap:1.5rem}

/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(3rem);z-index:700;background:var(--surface);border:1px solid var(--border);font-family:var(--mono);font-size:.73rem;padding:.6rem 1.3rem;opacity:0;transition:all .3s;white-space:nowrap}
.toast.show{transform:translateX(-50%) translateY(0);opacity:1}
.toast.s{border-color:var(--safe)}
.toast.e{border-color:var(--danger)}

/* ANIMATIONS */
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.25}}
@keyframes critPulse{0%,100%{box-shadow:0 0 0 0 rgba(255,59,48,.3)}50%{box-shadow:0 0 0 5px rgba(255,59,48,0)}}

/* RESPONSIVE */
@media(max-width:720px){
  .nav-links{display:none}
  .chart-grid{grid-template-columns:1fr}
  .dashboard-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê MODALS ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="authModal">
  <div class="modal">
    <button class="modal-x" onclick="closeModal('authModal')">‚úï</button>
    <span class="modal-icon">üõ°Ô∏è</span>
    <div class="modal-title">Sign in to TrustHire</div>
    <div class="auth-tabs">
      <button class="auth-tab active" id="loginTab" onclick="authTab('login')">Sign In</button>
      <button class="auth-tab" id="regTab" onclick="authTab('reg')">Create Account</button>
    </div>
    <div id="loginForm" class="auth-form">
      <input class="auth-input" id="liEmail" type="email" placeholder="your@email.com">
      <input class="auth-input" id="liPass" type="password" placeholder="Password">
      <p class="auth-err" id="liErr"></p>
      <button class="auth-submit" onclick="doLogin()">Sign In ‚Üí</button>
    </div>
    <div id="regForm" class="auth-form" style="display:none">
      <input class="auth-input" id="rgName" type="text" placeholder="Your name">
      <input class="auth-input" id="rgEmail" type="email" placeholder="your@email.com">
      <input class="auth-input" id="rgPass" type="password" placeholder="Password (min. 8 chars)">
      <p class="auth-err" id="rgErr"></p>
      <button class="auth-submit" onclick="doRegister()">Create Account ‚Üí</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê NAV ‚ïê‚ïê‚ïê -->
<nav>
  <a class="nav-brand" onclick="navigateTo('home')">
    <div class="nav-logo-mark">
      <svg viewBox="0 0 28 28" fill="none">
        <path d="M14 2L4 7v8c0 5.5 4.3 10.7 10 12 5.7-1.3 10-6.5 10-12V7L14 2z" fill="none" stroke="#c8ff00" stroke-width="1.5"/>
        <path d="M10 14l3 3 5-6" stroke="#c8ff00" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <span class="nav-wordmark">Trust<span>Hire</span></span>
  </a>
  <ul class="nav-links">
    <li><a onclick="navigateTo('home')">Home</a></li>
    <li><a onclick="navigateTo('dashboard')" id="navDashLink" style="display:none">Dashboard</a></li>
    <li><a href="https://github.com/felipeofdev-ai/trusthire" target="_blank">GitHub ‚Üí</a></li>
  </ul>
  <div class="nav-right">
    <div class="lang-picker" id="langPicker">
      <button class="lang-opt active" onclick="setLang('en')">EN</button>
      <button class="lang-opt" onclick="setLang('pt')">PT</button>
      <button class="lang-opt" onclick="setLang('es')">ES</button>
    </div>
    <div id="navGuest" style="display:flex;align-items:center;gap:.5rem">
      <div class="usage-pill" id="usagePill">
        <span class="uses-left" id="usesLeft">3</span>
        <span>free left</span>
      </div>
      <button class="nav-signin" onclick="openAuthModal()">Sign In</button>
      <button class="nav-cta" onclick="openAuthModal()">Get Started</button>
    </div>
    <div class="nav-user" id="navUser">
      <div class="nav-user-avatar" id="navAvatar"></div>
      <span class="nav-user-name" id="navName"></span>
      <span class="plan-chip free" id="navChip">FREE</span>
      <button class="btn-signout" onclick="doLogout()">Sign out</button>
    </div>
  </div>
</nav>

<!-- ‚ïê‚ïê‚ïê HOME PAGE ‚ïê‚ïê‚ïê -->
<div id="homePage">
  <section id="hero">
    <div class="hero-bg"></div>
    <div class="hero-glow"></div>
    <div class="hero-inner">
      <div class="hero-grid">
        <div>
          <div class="hero-eyebrow">
            <span class="hero-eyebrow-dot"></span>
            <span>Enterprise-Grade ¬∑ AI + ML ¬∑ Real-time Threat Intel</span>
          </div>
          <h1>Verify every <span class="accent">job offer</span><br>before you trust.</h1>
          <p class="hero-desc">Next-generation fraud detection with Claude AI, behavioral fingerprinting, real-time threat intelligence, and predictive caching. Enterprise security for everyone.</p>
          <div class="hero-actions">
            <button class="btn-hero-primary" onclick="openAuthModal()">
              <span>Start Free Trial</span> ‚Üí
            </button>
            <a href="https://github.com/felipeofdev-ai/trusthire" class="btn-hero-ghost" target="_blank">
              <span>View on GitHub</span>
            </a>
          </div>
          <div class="hero-social-proof">
            <div class="hero-stat"><span class="hero-stat-num">98%</span><span class="hero-stat-label">Detection accuracy</span></div>
            <div class="hero-stat-div"></div>
            <div class="hero-stat"><span class="hero-stat-num">150k+</span><span class="hero-stat-label">Analyses run</span></div>
            <div class="hero-stat-div"></div>
            <div class="hero-stat"><span class="hero-stat-num">< 1s</span><span class="hero-stat-label">Average response</span></div>
            <div class="hero-stat-div"></div>
            <div class="hero-stat">
              <div class="api-indicator"><span class="api-dot connecting" id="apiDot"></span><span id="apiTxt">connecting...</span></div>
            </div>
          </div>
        </div>
        <div class="hero-card">
          <div class="hc-label">RISK ASSESSMENT</div>
          <div class="hc-score">89</div>
          <div class="hc-level">CRITICAL RISK</div>
          <div class="hc-bar"><div class="hc-bar-fill"></div></div>
          <div class="hc-signals">
            <div class="hc-signal crit"><span class="hc-dot"></span><span>Upfront crypto payment</span></div>
            <div class="hc-signal high"><span class="hc-dot"></span><span>Behavioral anomaly detected</span></div>
            <div class="hc-signal med"><span class="hc-dot"></span><span>Domain age < 30 days</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="trust-bar">
    <div class="ticker-track" id="ticker"></div>
  </div>

  <footer>
    <span>¬© 2025 TrustHire ‚Äî Open source. Enterprise-grade security.</span>
    <div class="footer-links">
      <a href="https://github.com/felipeofdev-ai/trusthire" target="_blank">GitHub</a>
      <a onclick="openAuthModal()">Get Started</a>
      <a href="https://github.com/felipeofdev-ai/trusthire/blob/main/LICENSE" target="_blank">MIT</a>
    </div>
  </footer>
</div>

<!-- ‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê -->
<div class="dashboard-wrapper" id="dashboardPage">
  <div class="dashboard-container">
    
    <!-- Header -->
    <div class="dashboard-header">
      <h2 class="dashboard-title">Welcome back, <span id="dashUserName"></span></h2>
      <p class="dashboard-subtitle">Here's what's happening with your account today.</p>
    </div>

    <!-- Stats Grid -->
    <div class="dashboard-grid">
      <div class="stat-card">
        <div class="stat-label">Total Analyses</div>
        <div class="stat-value" id="statTotal">0</div>
        <div class="stat-change up">
          <span>‚Üë 12%</span>
          <span>vs last week</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Threats Detected</div>
        <div class="stat-value" id="statThreats">0</div>
        <div class="stat-change down">
          <span>‚Üì 8%</span>
          <span>vs last week</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Avg Response Time</div>
        <div class="stat-value"><span id="statAvgTime">0</span><span style="font-size:1rem;color:var(--text3)">ms</span></div>
        <div class="stat-change up">
          <span style="color:var(--safe)">15% faster</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-label">API Calls Today</div>
        <div class="stat-value" id="statApiCalls">0</div>
        <div class="stat-change">
          <span style="color:var(--text3)">Rate: <span id="statApiRate">0</span>/min</span>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <div class="quick-action-card" onclick="showToast('Feature coming soon!')">
        <span class="qa-icon">üîç</span>
        <div class="qa-title">Quick Analysis</div>
        <p class="qa-desc">Analyze a message instantly with our AI engine</p>
      </div>
      <div class="quick-action-card" onclick="showToast('Feature coming soon!')">
        <span class="qa-icon">üìä</span>
        <div class="qa-title">Generate Report</div>
        <p class="qa-desc">Create comprehensive security reports</p>
      </div>
      <div class="quick-action-card" onclick="showToast('Feature coming soon!')">
        <span class="qa-icon">üîë</span>
        <div class="qa-title">API Keys</div>
        <p class="qa-desc">Manage your API keys and webhooks</p>
      </div>
      <div class="quick-action-card" onclick="showToast('Feature coming soon!')">
        <span class="qa-icon">‚öôÔ∏è</span>
        <div class="qa-title">Settings</div>
        <p class="qa-desc">Configure alerts and integrations</p>
      </div>
    </div>

    <!-- Charts -->
    <div class="chart-grid">
      <div class="chart-card">
        <div class="chart-title">Analysis Trend (Last 7 Days)</div>
        <canvas id="trendChart" class="chart-canvas"></canvas>
      </div>
      <div class="chart-card">
        <div class="chart-title">Risk Distribution</div>
        <canvas id="riskChart" class="mini-chart"></canvas>
      </div>
    </div>

    <!-- Threat Map -->
    <div class="threat-map">
      <div class="section-head">
        <h3 class="section-title">Real-time Threat Intelligence</h3>
        <a class="section-action" onclick="showToast('Refreshing...')">Refresh ‚Üí</a>
      </div>
      <div class="threat-grid">
        <div class="threat-item critical">
          <div class="threat-type">Critical Threats</div>
          <div class="threat-count" id="threatCritical">0</div>
        </div>
        <div class="threat-item high">
          <div class="threat-type">High Risk</div>
          <div class="threat-count" id="threatHigh">0</div>
        </div>
        <div class="threat-item medium">
          <div class="threat-type">Moderate</div>
          <div class="threat-count" id="threatMedium">0</div>
        </div>
        <div class="threat-item low">
          <div class="threat-type">Low Risk</div>
          <div class="threat-count" id="threatLow">0</div>
        </div>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="activity-section">
      <div class="section-head">
        <h3 class="section-title">Recent Activity</h3>
        <a class="section-action" onclick="showToast('Feature coming soon!')">View All ‚Üí</a>
      </div>
      <div class="activity-list" id="activityList">
        <div style="font-family:var(--mono);font-size:.72rem;color:var(--text3);text-align:center;padding:2rem">
          No recent activity. Start analyzing to see your history here.
        </div>
      </div>
    </div>

    <!-- API Keys Section -->
    <div class="api-keys">
      <div class="section-head">
        <h3 class="section-title">API Keys</h3>
        <button class="settings-btn" onclick="generateApiKey()">+ Generate New Key</button>
      </div>
      <div class="api-key-list" id="apiKeyList">
        <div style="font-family:var(--mono);font-size:.72rem;color:var(--text3);text-align:center;padding:2rem">
          No API keys yet. Generate one to get started with our API.
        </div>
      </div>
    </div>

    <!-- Billing Section -->
    <div class="billing-section">
      <div class="section-head">
        <h3 class="section-title">Billing & Usage</h3>
        <a class="section-action" onclick="showToast('Feature coming soon!')">Manage Plan ‚Üí</a>
      </div>
      <div class="billing-current">
        <div class="billing-plan-name" id="billingPlanName">Free Plan</div>
        <div class="billing-plan-price" id="billingPlanPrice">$0<span style="font-size:1rem;font-weight:400;color:var(--text3)">/mo</span></div>
        <div class="billing-plan-meta">3 analyses per day ¬∑ 1 resume optimization</div>
      </div>
      <div class="billing-usage">
        <div class="usage-metric">
          <div class="usage-label">Analyses Used</div>
          <div class="usage-value"><span id="usageAnalyses">0</span><span style="font-size:.9rem;color:var(--text3)">/3</span></div>
          <div class="usage-bar"><div class="usage-bar-fill" id="usageAnalysesBar" style="width:0%"></div></div>
        </div>
        <div class="usage-metric">
          <div class="usage-label">API Calls</div>
          <div class="usage-value"><span id="usageApi">0</span><span style="font-size:.9rem;color:var(--text3)">/100</span></div>
          <div class="usage-bar"><div class="usage-bar-fill" id="usageApiBar" style="width:0%"></div></div>
        </div>
        <div class="usage-metric">
          <div class="usage-label">Storage Used</div>
          <div class="usage-value"><span id="usageStorage">0</span><span style="font-size:.9rem;color:var(--text3)">MB</span></div>
          <div class="usage-bar"><div class="usage-bar-fill" id="usageStorageBar" style="width:0%"></div></div>
        </div>
      </div>
    </div>

    <!-- Settings Section -->
    <div class="settings-section">
      <h3 class="section-title" style="margin-bottom:1.5rem">Account Settings</h3>
      
      <div class="settings-group">
        <div class="settings-label">Email Notifications</div>
        <div class="settings-desc">Receive alerts when critical threats are detected in your analyses</div>
        <label class="settings-toggle">
          <input type="checkbox" id="settingEmailNotif" onchange="saveSetting('emailNotif', this.checked)">
          <div class="toggle-switch"></div>
          <span style="font-family:var(--mono);font-size:.72rem;color:var(--text3)">Enable email alerts</span>
        </label>
      </div>

      <div class="settings-group">
        <div class="settings-label">Slack Integration</div>
        <div class="settings-desc">Send analysis results directly to your Slack workspace</div>
        <input type="text" class="settings-input" placeholder="Slack webhook URL" id="settingSlackUrl">
        <button class="settings-btn" style="margin-top:.8rem" onclick="saveSetting('slackUrl', document.getElementById('settingSlackUrl').value)">Save Webhook</button>
      </div>

      <div class="settings-group">
        <div class="settings-label">Two-Factor Authentication</div>
        <div class="settings-desc">Add an extra layer of security to your account</div>
        <button class="settings-btn" onclick="showToast('2FA setup coming soon!')">Enable 2FA</button>
      </div>

      <div class="settings-group" style="border:none">
        <div class="danger-zone">
          <div class="settings-label" style="color:var(--danger)">Danger Zone</div>
          <div class="settings-desc">Permanently delete your account and all associated data</div>
          <button class="danger-btn" onclick="confirmDeleteAccount()">Delete Account</button>
        </div>
      </div>
    </div>

  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  STATE MANAGEMENT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const APP_STATE = {
  currentPage: 'home',
  user: null,
  token: null,
  stats: {
    totalAnalyses: 0,
    threatsDetected: 0,
    avgResponseTime: 0,
    apiCalls: 0
  }
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  STORAGE HELPERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const getToken = () => localStorage.getItem('th_token') || '';
const setToken = t => t ? localStorage.setItem('th_token', t) : localStorage.removeItem('th_token');
const getUser = () => { 
  try { 
    return JSON.parse(localStorage.getItem('th_user') || 'null'); 
  } catch { 
    return null; 
  } 
};
const setUser = u => u ? localStorage.setItem('th_user', JSON.stringify(u)) : localStorage.removeItem('th_user');
const isLoggedIn = () => !!getToken();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  NAVIGATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function navigateTo(page) {
  APP_STATE.currentPage = page;
  
  // Hide all pages
  document.getElementById('homePage').style.display = 'none';
  document.getElementById('dashboardPage').classList.remove('active');
  
  // Show selected page
  if (page === 'home') {
    document.getElementById('homePage').style.display = 'block';
  } else if (page === 'dashboard') {
    if (!isLoggedIn()) {
      openAuthModal();
      return;
    }
    document.getElementById('dashboardPage').classList.add('active');
    loadDashboardData();
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  AUTH
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openAuthModal() { 
  document.getElementById('authModal').classList.add('open'); 
}

function closeModal(id) { 
  document.getElementById(id).classList.remove('open'); 
}

function authTab(tab) {
  document.getElementById('loginForm').style.display = tab === 'login' ? 'flex' : 'none';
  document.getElementById('regForm').style.display = tab === 'reg' ? 'flex' : 'none';
  document.getElementById('loginTab').classList.toggle('active', tab === 'login');
  document.getElementById('regTab').classList.toggle('active', tab === 'reg');
}

async function doLogin() {
  const email = document.getElementById('liEmail').value.trim();
  const pass = document.getElementById('liPass').value;
  document.getElementById('liErr').textContent = '';
  
  if (!email || !pass) { 
    document.getElementById('liErr').textContent = 'Please fill all fields.'; 
    return; 
  }

  // Demo login - in production, call actual API
  const mockUser = {
    id: 'user_' + Date.now(),
    name: email.split('@')[0],
    email: email,
    subscription_tier: 'free',
    created_at: new Date().toISOString()
  };
  
  const mockToken = 'demo_token_' + Date.now();
  
  setToken(mockToken);
  setUser(mockUser);
  APP_STATE.user = mockUser;
  APP_STATE.token = mockToken;
  
  closeModal('authModal');
  renderNavState();
  navigateTo('dashboard');
  showToast('üëã Welcome, ' + mockUser.name + '!', 's', 3000);
}

async function doRegister() {
  const name = document.getElementById('rgName').value.trim();
  const email = document.getElementById('rgEmail').value.trim();
  const pass = document.getElementById('rgPass').value;
  document.getElementById('rgErr').textContent = '';
  
  if (!name || !email || !pass) { 
    document.getElementById('rgErr').textContent = 'Please fill all fields.'; 
    return; 
  }
  
  if (pass.length < 8) { 
    document.getElementById('rgErr').textContent = 'Password must be at least 8 characters.'; 
    return; 
  }

  // Demo registration - in production, call actual API
  const mockUser = {
    id: 'user_' + Date.now(),
    name: name,
    email: email,
    subscription_tier: 'free',
    created_at: new Date().toISOString()
  };
  
  const mockToken = 'demo_token_' + Date.now();
  
  setToken(mockToken);
  setUser(mockUser);
  APP_STATE.user = mockUser;
  APP_STATE.token = mockToken;
  
  closeModal('authModal');
  renderNavState();
  navigateTo('dashboard');
  showToast('üéâ Account created successfully!', 's', 3000);
}

function doLogout() {
  setToken(null);
  setUser(null);
  APP_STATE.user = null;
  APP_STATE.token = null;
  renderNavState();
  navigateTo('home');
  showToast('Signed out successfully');
}

function renderNavState() {
  const user = getUser();
  const gEl = document.getElementById('navGuest');
  const uEl = document.getElementById('navUser');
  const dashLink = document.getElementById('navDashLink');
  
  if (user && isLoggedIn()) {
    gEl.style.display = 'none';
    uEl.classList.add('active');
    dashLink.style.display = 'block';
    
    document.getElementById('navName').textContent = user.name?.split(' ')[0] || '';
    document.getElementById('navAvatar').textContent = (user.name?.charAt(0) || 'U').toUpperCase();
    
    const chip = document.getElementById('navChip');
    chip.textContent = (user.subscription_tier || 'free').toUpperCase();
    chip.className = 'plan-chip ' + (user.subscription_tier || 'free');
  } else {
    gEl.style.display = 'flex';
    uEl.classList.remove('active');
    dashLink.style.display = 'none';
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  DASHBOARD DATA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function loadDashboardData() {
  const user = getUser();
  if (!user) return;
  
  // Update user name
  document.getElementById('dashUserName').textContent = user.name?.split(' ')[0] || 'there';
  
  // Load mock stats
  const stats = {
    totalAnalyses: Math.floor(Math.random() * 50) + 10,
    threatsDetected: Math.floor(Math.random() * 15) + 2,
    avgResponseTime: Math.floor(Math.random() * 300) + 200,
    apiCalls: Math.floor(Math.random() * 80) + 5
  };
  
  APP_STATE.stats = stats;
  
  // Update stat cards
  animateValue('statTotal', 0, stats.totalAnalyses, 1000);
  animateValue('statThreats', 0, stats.threatsDetected, 1000);
  animateValue('statAvgTime', 0, stats.avgResponseTime, 1000);
  animateValue('statApiCalls', 0, stats.apiCalls, 1000);
  document.getElementById('statApiRate').textContent = Math.floor(stats.apiCalls / 60);
  
  // Update threat counts
  document.getElementById('threatCritical').textContent = Math.floor(Math.random() * 3);
  document.getElementById('threatHigh').textContent = Math.floor(Math.random() * 8) + 2;
  document.getElementById('threatMedium').textContent = Math.floor(Math.random() * 15) + 5;
  document.getElementById('threatLow').textContent = Math.floor(Math.random() * 20) + 10;
  
  // Update billing info
  if (user.subscription_tier === 'pro') {
    document.getElementById('billingPlanName').textContent = 'Pro Plan';
    document.getElementById('billingPlanPrice').innerHTML = '$9.90<span style="font-size:1rem;font-weight:400;color:var(--text3)">/mo</span>';
  } else if (user.subscription_tier === 'enterprise') {
    document.getElementById('billingPlanName').textContent = 'Enterprise Plan';
    document.getElementById('billingPlanPrice').innerHTML = '$49.90<span style="font-size:1rem;font-weight:400;color:var(--text3)">/mo</span>';
  }
  
  // Update usage bars
  const analysesUsed = Math.floor(Math.random() * 3);
  document.getElementById('usageAnalyses').textContent = analysesUsed;
  document.getElementById('usageAnalysesBar').style.width = (analysesUsed / 3 * 100) + '%';
  
  const apiUsed = Math.floor(Math.random() * 100);
  document.getElementById('usageApi').textContent = apiUsed;
  document.getElementById('usageApiBar').style.width = (apiUsed / 100 * 100) + '%';
  
  const storageUsed = Math.floor(Math.random() * 50) + 5;
  document.getElementById('usageStorage').textContent = storageUsed;
  document.getElementById('usageStorageBar').style.width = (storageUsed / 1000 * 100) + '%';
  
  // Load charts
  loadCharts();
  
  // Load activity
  loadRecentActivity();
}

function animateValue(id, start, end, duration) {
  const obj = document.getElementById(id);
  const range = end - start;
  const increment = end > start ? 1 : -1;
  const stepTime = Math.abs(Math.floor(duration / range));
  let current = start;
  const timer = setInterval(() => {
    current += increment;
    obj.textContent = current;
    if (current === end) clearInterval(timer);
  }, stepTime);
}

function loadCharts() {
  // Simple mock chart using canvas
  const trendCanvas = document.getElementById('trendChart');
  const riskCanvas = document.getElementById('riskChart');
  
  if (!trendCanvas || !riskCanvas) return;
  
  // Trend Chart
  const trendCtx = trendCanvas.getContext('2d');
  trendCanvas.width = trendCanvas.offsetWidth;
  trendCanvas.height = 240;
  
  const data = [12, 19, 15, 25, 22, 30, 28];
  const max = Math.max(...data);
  const w = trendCanvas.width;
  const h = trendCanvas.height;
  const padding = 20;
  const barWidth = (w - padding * 2) / data.length;
  
  trendCtx.fillStyle = '#c8ff00';
  data.forEach((val, i) => {
    const barHeight = (val / max) * (h - padding * 2);
    const x = padding + i * barWidth;
    const y = h - padding - barHeight;
    trendCtx.fillRect(x + 5, y, barWidth - 10, barHeight);
  });
  
  // Risk Chart (Donut)
  const riskCtx = riskCanvas.getContext('2d');
  riskCanvas.width = riskCanvas.offsetWidth;
  riskCanvas.height = 180;
  
  const centerX = riskCanvas.width / 2;
  const centerY = riskCanvas.height / 2;
  const radius = 60;
  const colors = ['#ff3b30', '#ff9500', '#ffd60a', '#30d158'];
  const values = [5, 15, 25, 55];
  let currentAngle = -Math.PI / 2;
  
  values.forEach((val, i) => {
    const sliceAngle = (val / 100) * 2 * Math.PI;
    riskCtx.fillStyle = colors[i];
    riskCtx.beginPath();
    riskCtx.moveTo(centerX, centerY);
    riskCtx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
    riskCtx.closePath();
    riskCtx.fill();
    currentAngle += sliceAngle;
  });
  
  // Inner circle
  riskCtx.fillStyle = '#0f0f0f';
  riskCtx.beginPath();
  riskCtx.arc(centerX, centerY, 35, 0, 2 * Math.PI);
  riskCtx.fill();
}

function loadRecentActivity() {
  const activities = [
    { type: 'safe', title: 'Analysis completed', meta: '2 hours ago', score: 15 },
    { type: 'warn', title: 'Moderate risk detected', meta: '5 hours ago', score: 52 },
    { type: 'danger', title: 'Critical threat blocked', meta: 'Yesterday', score: 89 },
    { type: 'safe', title: 'Resume optimized', meta: '2 days ago', score: 94 }
  ];
  
  const html = activities.map(a => `
    <div class="activity-item">
      <div class="activity-icon ${a.type}">
        ${a.type === 'safe' ? '‚úì' : a.type === 'warn' ? '‚ö†Ô∏è' : 'üö®'}
      </div>
      <div class="activity-details">
        <div class="activity-title">${a.title}</div>
        <div class="activity-meta">${a.meta}</div>
      </div>
      <div class="activity-score">${a.score}</div>
    </div>
  `).join('');
  
  document.getElementById('activityList').innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  API KEYS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function generateApiKey() {
  const key = 'sk_live_' + Array.from({length: 32}, () => 
    'abcdefghijklmnopqrstuvwxyz0123456789'[Math.floor(Math.random() * 36)]
  ).join('');
  
  const keys = JSON.parse(localStorage.getItem('th_api_keys') || '[]');
  keys.push({
    id: 'key_' + Date.now(),
    name: 'API Key ' + (keys.length + 1),
    key: key,
    created: new Date().toISOString()
  });
  localStorage.setItem('th_api_keys', JSON.stringify(keys));
  
  renderApiKeys();
  showToast('‚úì API key generated successfully', 's');
}

function renderApiKeys() {
  const keys = JSON.parse(localStorage.getItem('th_api_keys') || '[]');
  const container = document.getElementById('apiKeyList');
  
  if (keys.length === 0) {
    container.innerHTML = '<div style="font-family:var(--mono);font-size:.72rem;color:var(--text3);text-align:center;padding:2rem">No API keys yet. Generate one to get started with our API.</div>';
    return;
  }
  
  container.innerHTML = keys.map(k => `
    <div class="api-key-item">
      <div class="api-key-info">
        <div class="api-key-name">${k.name}</div>
        <div class="api-key-value">${k.key.substring(0, 20)}...${k.key.substring(k.key.length - 4)}</div>
      </div>
      <div class="api-key-actions">
        <button class="api-btn" onclick="copyApiKey('${k.key}')">Copy</button>
        <button class="api-btn danger" onclick="deleteApiKey('${k.id}')">Revoke</button>
      </div>
    </div>
  `).join('');
}

function copyApiKey(key) {
  navigator.clipboard.writeText(key);
  showToast('‚úì API key copied to clipboard', 's');
}

function deleteApiKey(id) {
  if (!confirm('Are you sure you want to revoke this API key?')) return;
  
  const keys = JSON.parse(localStorage.getItem('th_api_keys') || '[]');
  const filtered = keys.filter(k => k.id !== id);
  localStorage.setItem('th_api_keys', JSON.stringify(filtered));
  
  renderApiKeys();
  showToast('API key revoked', 's');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  SETTINGS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function saveSetting(key, value) {
  const settings = JSON.parse(localStorage.getItem('th_settings') || '{}');
  settings[key] = value;
  localStorage.setItem('th_settings', JSON.stringify(settings));
  showToast('‚úì Settings saved', 's');
}

function confirmDeleteAccount() {
  if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
    doLogout();
    localStorage.clear();
    showToast('Account deleted', 's');
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  TICKER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function buildTicker() {
  const items = [
    'üö® Crypto payment detected',
    '‚ö†Ô∏è Unrealistic salary flagged',
    '‚úÖ Legit company verified',
    'üîó Suspicious domain blocked',
    'üß† AI analysis complete',
    'üìÑ Resume ATS score: 94%',
    '‚ö° Sub-second response',
    'üõ°Ô∏è Threat intel: updated',
    'üëÅÔ∏è Behavior anomaly found',
    'üìä 95% cache hit rate'
  ];
  const doubled = [...items, ...items];
  document.getElementById('ticker').innerHTML = doubled.map(i => `<span class="ticker-item">${i}</span>`).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  TOAST
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showToast(msg, type='', d=2800) {
  const el = document.getElementById('toast');
  el.textContent = msg;
  el.className = 'toast' + (type?' '+type:'');
  el.classList.add('show');
  setTimeout(()=>el.classList.remove('show'), d);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  LANG
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let currentLang = 'en';
function setLang(lang) {
  currentLang = lang;
  document.querySelectorAll('.lang-opt').forEach(btn => {
    btn.classList.toggle('active', btn.textContent.toLowerCase() === lang);
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  API STATUS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function checkApi() {
  // Simulate API check
  setTimeout(() => {
    document.getElementById('apiDot').className = 'api-dot';
    document.getElementById('apiTxt').textContent = 'api online ¬∑ ai: on';
  }, 1000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
document.addEventListener('DOMContentLoaded', () => {
  renderNavState();
  buildTicker();
  checkApi();
  
  // Check if user is logged in and redirect to dashboard
  if (isLoggedIn()) {
    APP_STATE.user = getUser();
    APP_STATE.token = getToken();
  }
  
  // Load settings
  const settings = JSON.parse(localStorage.getItem('th_settings') || '{}');
  if (settings.emailNotif) document.getElementById('settingEmailNotif').checked = true;
  if (settings.slackUrl) document.getElementById('settingSlackUrl').value = settings.slackUrl;
  
  // Render API keys if logged in
  if (isLoggedIn()) renderApiKeys();
});

// Close modals on click outside
document.getElementById('authModal').addEventListener('click', e => { 
  if(e.target === e.currentTarget) closeModal('authModal'); 
});
</script>
</body>
</html>
